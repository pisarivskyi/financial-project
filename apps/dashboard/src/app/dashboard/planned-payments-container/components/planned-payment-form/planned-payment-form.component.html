<nz-spin [nzSpinning]="isLoading$ | async">
  <form nz-form [formGroup]="formGroup" [nzLayout]="'vertical'">
    <nz-form-item>
      <nz-form-label>Name</nz-form-label>

      <nz-form-control>
        <input nz-input formControlName="name" type="text" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Type</nz-form-label>

      <nz-form-control>
        <nz-select formControlName="type" nzPlaceHolder="Choose payment type">
          @for (type of RECORD_TYPE_OPTIONS; track type) {
            <nz-option [nzValue]="type.value" [nzLabel]="type.label"></nz-option>
          }
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Amount</nz-form-label>

      <nz-form-control>
        <nz-input-number formControlName="amount" [nzMin]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Currency</nz-form-label>

      <nz-form-control>
        <nz-select formControlName="currencyCode" nzPlaceHolder="Choose currency">
          @for (currency of CURRENCY_OPTIONS; track currency.value) {
            <nz-option [nzValue]="currency.value" [nzLabel]="currency.label"></nz-option>
          }
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Period</nz-form-label>

      <nz-form-control>
        <nz-select formControlName="period" nzPlaceHolder="Choose period">
          @for (period of PERIOD_OPTIONS; track period) {
            <nz-option [nzValue]="period.value" [nzLabel]="period.label"></nz-option>
          }
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    @if (formGroup.controls['dayOfWeek']?.enabled) {
      <nz-form-item>
        <nz-form-label>Day of week</nz-form-label>

        <nz-form-control>
          <nz-select formControlName="dayOfWeek" nzPlaceHolder="Choose day of week">
            @for (day of DAY_OF_WEEK_OPTIONS; track day.value) {
              <nz-option [nzValue]="day.value" [nzLabel]="day.label"></nz-option>
            }
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    }

    @if (formGroup.controls['dayOfMonth']?.enabled) {
      <nz-form-item>
        <nz-form-label>Day of month</nz-form-label>

        <nz-form-control>
          <nz-select formControlName="dayOfMonth" nzPlaceHolder="Choose day of month">
            @for (day of DAY_OF_MONTH_OPTIONS; track day.value) {
              <nz-option [nzValue]="day.value" [nzLabel]="day.label"></nz-option>
            }
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    }

    @if (formGroup.controls['dateOfYear']?.enabled) {
      <nz-form-item>
        <nz-form-label>Date</nz-form-label>

        <nz-form-control>
          <nz-date-picker formControlName="dateOfYear"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
    }

    <nz-form-item>
      <nz-form-label>Category</nz-form-label>

      <nz-form-control>
        <nz-select
          formControlName="category"
          nzPlaceHolder="Choose"
          nzAllowClear
          [nzLoading]="isLoading$ | async"
          [nzOptions]="(categoriesOptions$ | async) ?? []"
          [compareWith]="compareWithFn"
        >
        </nz-select>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-spin>
