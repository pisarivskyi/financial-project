<nz-spin [nzSpinning]="isLoading$ | async">
  <form nz-form [formGroup]="formGroup" [nzLayout]="'vertical'">
    <nz-form-item>
      <nz-form-label>Name</nz-form-label>

      <nz-form-control>
        <input nz-input formControlName="name" type="text" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Amount</nz-form-label>

      <nz-form-control>
        <nz-input-number formControlName="amount" [nzMin]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Currency</nz-form-label>

      <nz-form-control>
        <nz-select formControlName="currencyCode" nzPlaceHolder="Choose currency">
          <nz-option
            *ngFor="let currency of CURRENCY_OPTIONS"
            [nzValue]="currency.value"
            [nzLabel]="currency.label"
          ></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Period</nz-form-label>

      <nz-form-control>
        <nz-select formControlName="period" nzPlaceHolder="Choose period">
          <nz-option
            *ngFor="let period of PERIOD_OPTIONS"
            [nzValue]="period.value"
            [nzLabel]="period.label"
          ></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item *ngIf="formGroup.controls['range'].enabled">
      <nz-form-label>Range</nz-form-label>

      <nz-form-control>
        <nz-range-picker formControlName="range"></nz-range-picker>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label>Categories</nz-form-label>

      <nz-form-control>
        <nz-select
          formControlName="categories"
          nzPlaceHolder="Choose"
          nzAllowClear
          nzMode="multiple"
          [nzLoading]="isLoading$ | async"
          [nzOptions]="(categoriesOptions$ | async) ?? []"
          [compareWith]="compareWithFn"
        >
        </nz-select>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-spin>
